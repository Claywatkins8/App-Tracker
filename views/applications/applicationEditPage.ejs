<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Partials/head.ejs -->
    <%- include('../partials/head.ejs') %>

    <title>Application Tracker</title>
  </head>
  <!-- NavBar -->
  <%- include('../partials/navbar.ejs') %>

  <body>
    <!-- Edit Application Form -->
    <form
      class="app-form"
      action="/applications/<%= application._id %>?_method=PUT"
      method="POST"
    >
      <div class="form-row">
        <div class="form-group col-md-6">
          <label for="jobposting">Job Posting Title</label>
          <input
            type="text"
            class="form-control"
            name="jobTitle"
            placeholder="Software Engineer"
            value="<%= application.jobTitle %> "
          />
        </div>
        <div class="form-group col-md-3">
          <label for="inputPassword4">Company</label>
          <input
            type="text"
            class="form-control"
            name="company"
            placeholder="Google"
            value="<%= application.company.name %> "
          />
        </div>
      </div>
      <div class="form-row">
        <div class="form-group col-md-3">
          <label for="jobposting">Location</label>
          <input
            type="text"
            class="form-control"
            name="location"
            placeholder="Seattle, WA"
            value="<%= application.location %> "
          />
        </div>
        <div class="form-group col-md-3">
          <label>Remote</label>
          <select name="remote" class="form-control">
            <option selected><%= application.remote %></option>
            <option value="Yes">Yes</option>
            <option value="No">No</option>
          </select>
        </div>
      </div>
      <div class="form-row">
        <div class="form-group col-md-3">
          <label for="jobposting">Date Applied</label>
          <input
            type="date"
            name="dateApplied"
            value="<%= application.dateApplied %> "
            class="form-control"
            placeholder="01/01/2020"
          />
        </div>
        <div class="form-group col-md-3">
          <label for="inputPassword4">Posting URL</label>
          <input
            type="text"
            class="form-control"
            name="postingUrl"
            placeholder="Google.com/jobs"
            value="<%= application.postingUrl %> "
          />
        </div>
      </div>
      <!-- Upload Resume/Cover Letter -->

      <div class="form-row">
        <div class="form-group col-md-3">
          <label>Resume Used:</label>
          <input
            type="file"
            name="resume"
            value="<%= application.resume %> "
            class="form-control-file filepond"
          />
        </div>

        <div class="form-group col-md-3">
          <label>Cover Letter Used:</label>
          <input
            type="file"
            name="coverLetter"
            value="<%= application.coverLetter %> "
            class="form-control-file filepond"
          />
        </div>
      </div>
      <!-- Full Job Description -->
      <div class="form-row">
        <div class="form-group col-md-10">
          <label for="jobposting">Full Job Description</label>
          <textarea
            type="text"
            class="form-control addapp-textarea"
            name="fullJobDescription"
            placeholder="Software Engineer"
            value="<%= application.fullJobDescription %> "
          ></textarea>
        </div>
      </div>
      <!-- References section -->
      <div class="form-row">
        <div class="form-group col-md-3">
          <label for="jobposting">Reference Name</label>
          <input
            type="text"
            name="referenceName"
            value="<%= application.referenceName %> "
            class="form-control"
            placeholder="John Smith"
          />
        </div>
        <div class="form-group col-md-3">
          <label for="inputPassword4">Phone:</label>
          <input
            type="text"
            class="form-control"
            name="referencePhone"
            placeholder="(123) 456-7890"
            value="<%= application.referencePhone %> "
          />
        </div>
        <div class="form-group col-md-3">
          <label for="inputPassword4">Email</label>
          <input
            type="text"
            class="form-control"
            name="referenceEmail"
            placeholder="Smith.John@DreamCompany.com"
            value="<%= application.referenceEmail %> "
          />
        </div>
        <div class="form-group col-md-3">
          <label for="inputPassword4">LinkedIn URL</label>
          <input
            type="text"
            class="form-control"
            name="referenceLinkedIn"
            placeholder="LinkedIn.com/JohnSmith"
            value="<%= application.referenceLinkedIn %> "
          />
        </div>
      </div>
      <!-- Notes -->
      <div class="form-row">
        <div class="form-group col-md-10">
          <label for="jobposting">Notes:</label>
          <textarea
            type="text"
            class="form-control addapp-textarea"
            name="notes"
            placeholder=""
            value="<%= application.notes %> "
          ></textarea>
        </div>
      </div>
      <!-- Edit PUT Form -->

      <div class="text-center">
        <input type="submit" class="btn btn-primary" value="Update" />
      </div>
    </form>
  </body>
</html>
